{% extends "admin_header.html" %}
{% load static  %}
{% block content %}

<!-- Page Content -->
<div id="page-wrapper">
    <div class="container-fluid">
        <div class="row bg-title">
            <div class="col-lg-3 col-md-4 col-sm-4 col-xs-12">
                <h4 class="page-title">Dashboard</h4>
            </div>

            <!-- /.col-lg-12 -->
        </div>
        <!-- /.row -->
        <div class="row">
            <!-- .col -->
            <div class="col-md-7 col-sm-12 col-xs-12">
                <!--                        <div class="white-box">-->
                <!--                            <h3 class="box-title">Yearly Sales</h3>-->
                <!--                            <ul class="list-inline text-right">-->
                <!--                                <li>-->
                <!--                                    <h5><i class="fa fa-circle m-r-5" style="color: #00b5c2;"></i>iPhone</h5>-->
                <!--                                </li>-->
                <!--                                <li>-->
                <!--                                    <h5><i class="fa fa-circle m-r-5" style="color: #f75b36;"></i>iPad</h5>-->
                <!--                                </li>-->
                <!--                                <li>-->
                <!--                                    <h5><i class="fa fa-circle m-r-5" style="color: #2c5ca9;"></i>iPod</h5>-->
                <!--                                </li>-->
                <!--                            </ul>-->
                <!--                            <div id="morris-area-chart" style="height: 356px;"></div>-->
                <!--                        </div>-->
                {% include 'base.html' %}
                <script>
	{% block jquery %}
		var endpoint = '/api/chart/data/'
		var defaultData = []
		var labels = [];
		$.ajax({
			method: "GET",
			url: endpoint,
			success: function(data) {
				labels = data.labels
				defaultData = data.default
				setChart()
				},
			error: function(error_data) {
				console.log("error")
				console.log(error_data)
				}
		})

	function setChart() {
		var ctx = document.getElementById("myChart");
		var ctx2 = document.getElementById("myChart2");
		var myChart = new Chart(ctx2, {
		type: 'bar',
		data: {
			labels: labels,
			datasets: [{
				label: 'Total Booking',
				data: defaultData,
				backgroundColor: [
					'rgba(255, 99, 132, 0.2)',
					'rgba(54, 162, 235, 0.2)',
					'rgba(255, 206, 86, 0.2)',
					'rgba(75, 192, 192, 0.2)',
					'rgba(153, 102, 255, 0.2)',
					'rgba(255, 159, 64, 0.2)'
					],
				borderColor: [
					'rgba(255,99,132,1)',
					'rgba(54, 162, 235, 1)',
					'rgba(255, 206, 86, 1)',
					'rgba(75, 192, 192, 1)',
					'rgba(153, 102, 255, 1)',
					'rgba(255, 159, 64, 1)'
					],
				borderWidth: 1
			}]
		},
		options: {
			scales: {
			yAxes: [{
				ticks: {
				beginAtZero: true
				}
			}]
			}
		}
		});
		var myChart = new Chart(ctx, {
		type: 'polarArea',
		data: {
			labels: labels,
			datasets: [{
				label: '# of Votes',
				data: defaultData,
				backgroundColor: [
					'rgba(255, 99, 132, 0.2)',
					'rgba(54, 162, 235, 0.2)',
					'rgba(255, 206, 86, 0.2)',
					'rgba(75, 192, 192, 0.2)',
					'rgba(153, 102, 255, 0.2)',
					'rgba(255, 159, 64, 0.2)'
					],
				borderColor: [
					'rgba(255,99,132,1)',
					'rgba(54, 162, 235, 1)',
					'rgba(255, 206, 86, 1)',
					'rgba(75, 192, 192, 1)',
					'rgba(153, 102, 255, 1)',
					'rgba(255, 159, 64, 1)'
					],
				borderWidth: 1
				}]
			},
			options: {
				scales: {
				yAxes: [{
					ticks: {
					beginAtZero: true
					}
				}]
			}
			}
			});
			}
			// var ctx = document.getElementById("myChart");
		{% endblock %}


                </script>
            </div>
            <!-- /.col -->
            <div class="col-md-5 col-sm-6">
                <div class="row">
                    <!-- .col -->
                    <div class="col-md-6 col-sm-12">
                        <div class="white-box text-center bg-megna">
                            <h1 class="text-white counter">{{customer1_count}}</h1>
                            <p class="text-white">Customers</p>
                        </div>
                    </div>
                    <!-- /.col -->
                    <!-- .col -->
                    <div class="col-md-6 col-sm-12">
                        <div class="white-box text-center bg-inverse">
                            <h1 class="text-white counter">{{package_count}}</h1>
                            <p class="text-white">Packages</p>
                        </div>
                    </div>
                    <!-- /.col -->
                    <!-- .col -->
                    <div class="col-md-6 col-sm-12">
                        <div class="white-box text-center bg-info">
                            <h1 class="counter text-white">{{booking_count}}</h1>
                            <p class="text-white">Bookings</p>
                        </div>
                    </div>
                    <!-- /.col -->
                    <!-- .col -->
                    <div class="col-md-6 col-sm-12">
                        <div class="white-box text-center bg-danger">
                            <h1 class="text-white counter">{{city_count}}</h1>
                            <p class="text-white">Cities</p>
                        </div>
                    </div>
                    <!-- /.col -->
                    <!-- .col -->

                    <!-- /.col -->
                </div>
            </div>
        </div>
        <!--row -->

        <!-- row -->

        <!-- /.row -->
        <!--/.row -->
        <div class="row">
            <div class="col-md-12">
                <div class="white-box">
                    <h3 class="box-title">Booking</h3>
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                            <tr>
                                <th>Booking Id</th>
                                <th>Customer Name</th>
                                <th>Package Name</th>
                                <th>Room Name</th>
                                <th>Booking date</th>
                                <th>CheckIn Date</th>
                                <th>Checkout Date</th>
                                <th>Booking Status</th>
                                <th>Total</th>
                                <th>Payment Status</th>

                            </tr>
                            </thead>
                            <tbody>
                            {% for data in book %}
                            <tr>
                                <td>{{data.booking_id}}</td>
                                <td>{{data.c_id.c_name}}</td>
                                <td>{{data.package_id.package_name}}</td>
                                <td>{{data.room_id.room_name}}</td>
                                <td>{{data.booking_date}}</td>
                                <td>{{data.checkIn_date}}</td>
                                <td>{{data.checkOut_date}}</td>
                                <td>
                                    {% if data.booking_status == 0 %}
                                    <span class="label label-table label-success"
                                          style="background-color:gray">Pending</span>
                                    {% endif %}
                                    {% if data.booking_status == 1 %}
                                    <span class="label label-table label-success">Accept</span>
                                    {% endif %}
                                    {% if data.booking_status == 2 %}
                                    <span class="label label-table label-success"
                                          style="background-color:red">Rejected</span>
                                    {% endif %}
                                </td>
                                <td>{{data.total}}</td>
                                <td>{{data.payment_status}}</td>


                            </tr>
                            {% endfor %}

                            </tbody>
                            <tfoot>
                            <tr>
                                <th>Booking Id</th>
                                <th>Customer Name</th>
                                <th>Package Name</th>
                                <th>Room Name</th>
                                <th>Booking date</th>
                                <th>CheckIn Date</th>
                                <th>Checkout Date</th>
                                <th>Booking Status</th>
                                <th>Total</th>
                                <th>Payment Status</th>
                            </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <!-- .right-sidebar -->
        <div class="right-sidebar">
            <div class="slimscrollright">
                <div class="rpanel-title"> Service Panel <span><i class="ti-close right-side-toggle"></i></span></div>
                <div class="r-panel-body">
                    <ul>
                        <li><b>Layout Options</b></li>
                        <li>
                            <div class="checkbox checkbox-info">
                                <input id="checkbox1" type="checkbox" class="fxhdr">
                                <label for="checkbox1"> Fix Header </label>
                            </div>
                        </li>
                        <li>
                            <div class="checkbox checkbox-success">
                                <input id="checkbox4" type="checkbox" class="open-close">
                                <label for="checkbox4"> Toggle Sidebar </label>
                            </div>
                        </li>
                        <li>
                            <div class="checkbox checkbox-warning">
                                <input id="checkbox2" type="checkbox" class="fxsdr">
                                <label for="checkbox2"> Fix Sidebar </label>
                            </div>
                        </li>
                    </ul>
                    <ul id="themecolors" class="m-t-20">
                        <li><b>With Light sidebar</b></li>
                        <li><a href="javascript:void(0)" theme="default" class="default-theme working">1</a></li>
                        <li><a href="javascript:void(0)" theme="green" class="green-theme">2</a></li>
                        <li><a href="javascript:void(0)" theme="gray" class="yellow-theme">3</a></li>
                        <li><a href="javascript:void(0)" theme="blue" class="blue-theme">4</a></li>
                        <li><a href="javascript:void(0)" theme="purple" class="purple-theme">5</a></li>
                        <li><a href="javascript:void(0)" theme="megna" class="megna-theme">6</a></li>
                        <li><b>With Dark sidebar</b></li>
                        <br/>
                        <li><a href="javascript:void(0)" theme="default-dark" class="default-dark-theme">7</a></li>
                        <li><a href="javascript:void(0)" theme="green-dark" class="green-dark-theme">8</a></li>
                        <li><a href="javascript:void(0)" theme="gray-dark" class="yellow-dark-theme">9</a></li>
                        <li><a href="javascript:void(0)" theme="blue-dark" class="blue-dark-theme">10</a></li>
                        <li><a href="javascript:void(0)" theme="purple-dark" class="purple-dark-theme">11</a></li>
                        <li><a href="javascript:void(0)" theme="megna-dark" class="megna-dark-theme">12</a></li>
                    </ul>
                    <ul class="m-t-20 chatonline">
                        <li><b>Chat option</b></li>
                        <li>
                            <a href="javascript:void(0)"><img src="../plugins/images/users/varun.jpg" alt="user-img"
                                                              class="img-circle"> <span>Varun Dhavan <small
                                    class="text-success">online</small></span></a>
                        </li>
                        <li>
                            <a href="javascript:void(0)"><img src="../plugins/images/users/genu.jpg" alt="user-img"
                                                              class="img-circle"> <span>Genelia Deshmukh <small
                                    class="text-warning">Away</small></span></a>
                        </li>
                        <li>
                            <a href="javascript:void(0)"><img src="../plugins/images/users/ritesh.jpg" alt="user-img"
                                                              class="img-circle"> <span>Ritesh Deshmukh <small
                                    class="text-danger">Busy</small></span></a>
                        </li>
                        <li>
                            <a href="javascript:void(0)"><img src="../plugins/images/users/arijit.jpg" alt="user-img"
                                                              class="img-circle"> <span>Arijit Sinh <small
                                    class="text-muted">Offline</small></span></a>
                        </li>
                        <li>
                            <a href="javascript:void(0)"><img src="../plugins/images/users/govinda.jpg" alt="user-img"
                                                              class="img-circle"> <span>Govinda Star <small
                                    class="text-success">online</small></span></a>
                        </li>
                        <li>
                            <a href="javascript:void(0)"><img src="../plugins/images/users/hritik.jpg" alt="user-img"
                                                              class="img-circle"> <span>John Abraham<small
                                    class="text-success">online</small></span></a>
                        </li>
                        <li>
                            <a href="javascript:void(0)"><img src="../plugins/images/users/john.jpg" alt="user-img"
                                                              class="img-circle"> <span>Hritik Roshan<small
                                    class="text-success">online</small></span></a>
                        </li>
                        <li>
                            <a href="javascript:void(0)"><img src="../plugins/images/users/pawandeep.jpg" alt="user-img"
                                                              class="img-circle"> <span>Pwandeep rajan <small
                                    class="text-success">online</small></span></a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- /.right-sidebar -->
    </div>
    <!-- /.container-fluid -->

</div>
<!-- /#page-wrapper -->
</div>
<!-- /#wrapper -->
<!-- jQuery -->

{% endblock %}

<!-- Mirrored from demos.wrappixel.com/premium-admin-templates/bootstrap/pixel-bootstrap/packages/inverse/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 30 Oct 2021 12:39:35 GMT -->

